if (other.bbox_top < y)
    other.floorheight = floorheight;
else
    other.floorheight = floorheight_below;
